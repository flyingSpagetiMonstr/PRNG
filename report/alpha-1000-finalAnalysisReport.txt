#define X(state) ((state)>>N)
#define Y(state) ((state)&Y_MASK)
#define G(state) (X(state) ^ Y(state))

static inline void update(void); 
// =========================================================

static state_t state = _VALUE;

out_t generator(void)
{
    update();
    return G(state);
}
// =========================================================

static inline void update(void)
{
    state_t register s = 0;
    uint8_t register i = 0;
    while (i < TWO_N)
    {
        s += RSHIFT_64(state, i);
        i += (s&1) + 1;
    }
    state = ~s;
}

------------------------------------------------------------------------------
RESULTS FOR THE UNIFORMITY OF P-VALUES AND THE PROPORTION OF PASSING SEQUENCES
------------------------------------------------------------------------------
   generator is <./data/stream.dat>
------------------------------------------------------------------------------
 C1  C2  C3  C4  C5  C6  C7  C8  C9 C10  P-VALUE  PROPORTION  STATISTICAL TEST
------------------------------------------------------------------------------
101 100 104  96  96 105 106 125  80  87  0.160805    987/1000    Frequency
 95 102 111 106  87  99  89 101 106 104  0.807412    994/1000    BlockFrequency
 94 111 106  91  76  85 102 115 104 116  0.072066    991/1000    CumulativeSums
111  90  93 103  91  86 111 114  96 105  0.424453    985/1000    CumulativeSums
 99 100  83  88  92 115 112 103  98 110  0.366918    994/1000    Runs
101  98 101 104 102 102 105 109  97  81  0.829047    991/1000    LongestRun
102 107 100 110  88 103  91 105 101  93  0.866097    996/1000    Rank
131  84  92  75 114 100  97  97 106 104  0.009810    984/1000    FFT
106 104  87 110 104 106 102  79 105  97  0.482707    991/1000    NonOverlappingTemplate
101 114  95  94  81 109 110 104  98  94  0.478839    988/1000    NonOverlappingTemplate
102  88 104  99 105 111  71 113 100 107  0.133404    990/1000    NonOverlappingTemplate
 94 107 123  97  90  97 101  94  89 108  0.388990    988/1000    NonOverlappingTemplate
105  92  88 103 106  95  95  99 100 117  0.721777    984/1000    NonOverlappingTemplate
113  93 104 102  74 100 103 100  94 117  0.187581    991/1000    NonOverlappingTemplate
 96 105  93  86  86 102 112 102 109 109  0.538182    990/1000    NonOverlappingTemplate
100 110 116 103  91  89  92  96  91 112  0.463512    989/1000    NonOverlappingTemplate
 92 109 107  89  99 101 109 112  95  87  0.599693    991/1000    NonOverlappingTemplate
107 116  99  96 103  94 105 106  80  94  0.471146    987/1000    NonOverlappingTemplate
 97  91  92 117  93  89 105  98 120  98  0.314544    992/1000    NonOverlappingTemplate
105  99 100  88 103 102  99  86  98 120  0.550347    992/1000    NonOverlappingTemplate
107  92 108 112 122  98  78 100  91  92  0.109435    988/1000    NonOverlappingTemplate
111  96 100 101 120  96  98  81  99  98  0.415422    985/1000    NonOverlappingTemplate
128  97  88 109  96  95 107  90  92  98  0.173770    988/1000    NonOverlappingTemplate
 96 106 106  89  95 103 116 111  77 101  0.242986    992/1000    NonOverlappingTemplate
 90  91 112 101 105 104 110 102  87  98  0.695200    989/1000    NonOverlappingTemplate
100  96 106  90  98 113  98 106  90 103  0.856359    987/1000    NonOverlappingTemplate
106 104  96 115  97 105  82  93  89 113  0.358641    987/1000    NonOverlappingTemplate
 98  93 112 120  91 110  92  83 104  97  0.239266    991/1000    NonOverlappingTemplate
 98 122  91  93 104 106 103 105  93  85  0.368587    984/1000    NonOverlappingTemplate
 98  97  93 102 111 110  77 104  92 116  0.241741    990/1000    NonOverlappingTemplate
 99 110  95  97  94  99  97  95  97 117  0.830808    993/1000    NonOverlappingTemplate
 94  97 109  94 109  95  94 116  91 101  0.697257    989/1000    NonOverlappingTemplate
106 111 103  92  86 109 105  98  86 104  0.587274    993/1000    NonOverlappingTemplate
103  90  91 107 102  99  96 109 107  96  0.907419    992/1000    NonOverlappingTemplate
 77 107  86 113  88 110 105 107 106 101  0.163513    996/1000    NonOverlappingTemplate
 91 105  86 101  95 128 104 100  90 100  0.197981    987/1000    NonOverlappingTemplate
 79 106  97 116 111  95 102  96 110  88  0.241741    995/1000    NonOverlappingTemplate
119  95 102  99  97  89  84  84 117 114  0.086109    990/1000    NonOverlappingTemplate
108 103 107 108  94  95  95  92 101  97  0.943242    984/1000    NonOverlappingTemplate
 89  99 110  93 134  97  94  86 101  97  0.052275    986/1000    NonOverlappingTemplate
102  97  97 103 103 112 103  89  88 106  0.839507    991/1000    NonOverlappingTemplate
107  87 105  97  84  93  96 109 109 113  0.433590    988/1000    NonOverlappingTemplate
 82 109  88  97  95  89  95 118 110 117  0.108150    992/1000    NonOverlappingTemplate
108 104  95  94 108  95  95 112  91  98  0.848027    987/1000    NonOverlappingTemplate
114  88  99  98  98 100  95 102  98 108  0.878618    990/1000    NonOverlappingTemplate
103  96 106 104 111 116 101  83  91  89  0.395940    988/1000    NonOverlappingTemplate
107  97 103  97  92 110 108  92  94 100  0.908760    989/1000    NonOverlappingTemplate
105  86 119  88  86 102  93  99 108 114  0.193767    995/1000    NonOverlappingTemplate
 92  94 110  94 103 109  95  95 113  95  0.769527    991/1000    NonOverlappingTemplate
116 106  99  83 102  92 105  87  94 116  0.251837    989/1000    NonOverlappingTemplate
 94 105 101 106  87  96 113  99 101  98  0.869278    989/1000    NonOverlappingTemplate
 92 117 102 105 116 100  85  79  99 105  0.149495    990/1000    NonOverlappingTemplate
101 100  89 122  95 104 107 107  94  81  0.248014    988/1000    NonOverlappingTemplate
109  78  94 112  94  95 104 100 110 104  0.402962    989/1000    NonOverlappingTemplate
106 111  97  89 114 100  92 108  92  91  0.579021    993/1000    NonOverlappingTemplate
103 100  99  92 114  94  88  97 107 106  0.794391    992/1000    NonOverlappingTemplate
103 107 108  89  77 104  92 114 104 102  0.298282    995/1000    NonOverlappingTemplate
 82 108 112  96  92  93 114 109  94 100  0.371941    990/1000    NonOverlappingTemplate
102  85 103 112  96 121  92  93  93 103  0.342451    988/1000    NonOverlappingTemplate
125  93  77 100  99 105 102  97 100 102  0.188601    992/1000    NonOverlappingTemplate
103 112  85 106  80 107  95 106  91 115  0.196920    994/1000    NonOverlappingTemplate
114 112 101  92 100 107  93  80  92 109  0.313041    985/1000    NonOverlappingTemplate
 97 115  98  97  97  95 104 108  97  92  0.887645    987/1000    NonOverlappingTemplate
102 104  81 101  92  84 130  90 115 101  0.022915    990/1000    NonOverlappingTemplate
 98 105 100  96 107 102  94  88 108 102  0.943242    990/1000    NonOverlappingTemplate
102  97 106 108  88 100  99 105  97  98  0.965860    985/1000    NonOverlappingTemplate
 90  96 104 112  99 109  95  85 109 101  0.647530    988/1000    NonOverlappingTemplate
 97 107 106  94  89  98 106 101  95 107  0.932333    988/1000    NonOverlappingTemplate
 84 100  98  97 104  91 108  98 122  98  0.417219    989/1000    NonOverlappingTemplate
 97 119 106  89  93 106 103  87  96 104  0.512137    990/1000    NonOverlappingTemplate
 92 105 107  95 106  89 111 100  94 101  0.853049    991/1000    NonOverlappingTemplate
101 129  82  82 102 110 103 102 102  87  0.037566    988/1000    NonOverlappingTemplate
108  98 104 100  93 108 108  97  88  96  0.890582    990/1000    NonOverlappingTemplate
 89 110  92  93  97  92 109 105 106 107  0.741918    992/1000    NonOverlappingTemplate
103 104 110  96  87 104 105  82 110  99  0.558502    991/1000    NonOverlappingTemplate
108  91  96  78 107 104 100 113  99 104  0.440975    985/1000    NonOverlappingTemplate
106 107  95 120  96  82 102  89 102 101  0.366918    993/1000    NonOverlappingTemplate
113 106  78 107 103  92 107  96  94 104  0.411840    991/1000    NonOverlappingTemplate
115 100 108  93  97  99  94 106  92  96  0.834308    988/1000    NonOverlappingTemplate
111 104 100 100  89  93 106  97 101  99  0.939005    994/1000    NonOverlappingTemplate
101 114  90  94 108  96 103  88  96 110  0.655854    989/1000    NonOverlappingTemplate
 84  88 115  95  98  99  97 119 104 101  0.317565    994/1000    NonOverlappingTemplate
107 103  86 111 103 107 102  79 105  97  0.426272    991/1000    NonOverlappingTemplate
110  90 101  97 111 101  88  95 102 105  0.807412    987/1000    NonOverlappingTemplate
 95 108 100  89 110  87 106  97 105 103  0.781106    990/1000    NonOverlappingTemplate
104  95 113  99 121  97  91 111  83  86  0.142062    991/1000    NonOverlappingTemplate
106 109 106 109  97  93 100 102 101  77  0.508172    984/1000    NonOverlappingTemplate
 94 102 100  86  97  96 115  94 107 109  0.686955    988/1000    NonOverlappingTemplate
 96  97 111  96  94 107 108  93 102  96  0.924076    992/1000    NonOverlappingTemplate
 92 106 104  89 106  89 110  94 107 103  0.751866    993/1000    NonOverlappingTemplate
117  75  86  96  96 108 108 104 118  92  0.052947    985/1000    NonOverlappingTemplate
 99 100 101 102  97  96 110  85 103 107  0.901959    994/1000    NonOverlappingTemplate
104  94  92  88  96  98 114  94 108 112  0.616305    992/1000    NonOverlappingTemplate
 91  90 109  88  92 122 105 101  91 111  0.223648    990/1000    NonOverlappingTemplate
113  99  94 107  75 110 108  99  82 113  0.081013    992/1000    NonOverlappingTemplate
 98  92 101 104 100  89 111 121  93  91  0.439122    990/1000    NonOverlappingTemplate
108 100 100  93  75  89  97 119 115 104  0.099513    989/1000    NonOverlappingTemplate
 88  99  97 118  94  95 101 106  99 103  0.753844    985/1000    NonOverlappingTemplate
111 108  88 100  98 105  89 105  98  98  0.823725    988/1000    NonOverlappingTemplate
 89 117  94  97 103 103 100  90 106 101  0.729870    992/1000    NonOverlappingTemplate
 97 105 113  96  96  92 110  96  94 101  0.873987    988/1000    NonOverlappingTemplate
120 100 105 109  84  98 100  86 106  92  0.302657    989/1000    NonOverlappingTemplate
104 108 105 110 100 101  98  93 104  77  0.530120    988/1000    NonOverlappingTemplate
 96 101  95 110  94  99 106 109  93  97  0.939005    994/1000    NonOverlappingTemplate
 95  98  99 101 101 108 100 114  90  94  0.892036    993/1000    NonOverlappingTemplate
 94 104  96 117  97 110 102  93  95  92  0.731886    995/1000    NonOverlappingTemplate
100 112  88  99  99  84 119  98  93 108  0.331408    988/1000    NonOverlappingTemplate
 97  82  94 106 100 108 109  98 107  99  0.735908    994/1000    NonOverlappingTemplate
 95 102  98  87 101 112  98  98  96 113  0.798139    988/1000    NonOverlappingTemplate
105  85 113  91 104 124  90  98  94  96  0.187581    992/1000    NonOverlappingTemplate
102  83  89 110 105  95 104 102 119  91  0.329850    989/1000    NonOverlappingTemplate
130  85 112 102  89 104  83  99 101  95  0.044797    987/1000    NonOverlappingTemplate
111 102  93  98  95 113  95  97 101  95  0.889118    991/1000    NonOverlappingTemplate
 98 115  96  88 102 110  99  92 109  91  0.616305    996/1000    NonOverlappingTemplate
104  96 104  95  94 108  94  90 104 111  0.878618    984/1000    NonOverlappingTemplate
111  90  94 108 103  94  98 113 102  87  0.624627    993/1000    NonOverlappingTemplate
110 104  88 114  81  93  93 102 107 108  0.325206    993/1000    NonOverlappingTemplate
 83 127 110 100 102  90 108  99  92  89  0.098920    992/1000    NonOverlappingTemplate
109 101  97 103 105  87  99 113  96  90  0.759756    997/1000    NonOverlappingTemplate
101  91  87 109  99  98  97  83 113 122  0.168112    991/1000    NonOverlappingTemplate
 93  88  96 102 109 109 105  99 105  94  0.866097    987/1000    NonOverlappingTemplate
 92  89  84  91 109 112  95  99 121 108  0.172816    992/1000    NonOverlappingTemplate
 92  98  98  92 102 108  99  92 108 111  0.872425    991/1000    NonOverlappingTemplate
 95 133  99 101 102  99  86 109  82  94  0.040371    995/1000    NonOverlappingTemplate
 92 111  93 128  93 101 103  99  86  94  0.158133    992/1000    NonOverlappingTemplate
 92  94 102 106  93  95 101 109 121  87  0.431754    990/1000    NonOverlappingTemplate
 90 107  87 112  88 105 101 119  93  98  0.314544    993/1000    NonOverlappingTemplate
 91 115 103 101  82  94  88 112  99 115  0.219006    996/1000    NonOverlappingTemplate
 87  96 103 102 103 103 105  91 104 106  0.927677    985/1000    NonOverlappingTemplate
 98 107  92  90 111 101  99  94  99 109  0.869278    984/1000    NonOverlappingTemplate
112  89 115  88  99  92  96 107  97 105  0.536163    996/1000    NonOverlappingTemplate
 94 100 113  98 101 112  86 106  95  95  0.703417    994/1000    NonOverlappingTemplate
113 104  95 107 104  80  93 104  97 103  0.576961    990/1000    NonOverlappingTemplate
100 104  86 116 104 111  93  89 101  96  0.542228    986/1000    NonOverlappingTemplate
131  90  94  93 107  83  98  93 105 106  0.067300    986/1000    NonOverlappingTemplate
 87  97 111  98  87 118 102 116  90  94  0.217857    992/1000    NonOverlappingTemplate
 88 104 104  97 100 124 109  90 100  84  0.214439    995/1000    NonOverlappingTemplate
 86 110  86  88  77 125 117 108 101 102  0.010681    990/1000    NonOverlappingTemplate
100 104  91 104 114 104  85 103  93 102  0.727851    986/1000    NonOverlappingTemplate
118  97 105 109  74 104  96 110  77 110  0.027313    987/1000    NonOverlappingTemplate
 95 111 103 100  96  98 111  93  97  96  0.930026    987/1000    NonOverlappingTemplate
104  94 105 106  94 108  85  96 108 100  0.818343    989/1000    NonOverlappingTemplate
 99  96 101 100  83  96 108  91 113 113  0.528111    988/1000    NonOverlappingTemplate
 86  90 106 109  99 103 100  94 120  93  0.429923    989/1000    NonOverlappingTemplate
107 109  90 109  89 119  86  93 103  95  0.295391    989/1000    NonOverlappingTemplate
 94 105 107  94 101 105 101 102 101  90  0.972382    986/1000    NonOverlappingTemplate
111 107  98  95 106  92  88 109 104  90  0.699313    988/1000    NonOverlappingTemplate
108 101 102 102 104 100 108  92  96  87  0.910091    983/1000    NonOverlappingTemplate
 95 111  97  84  80  98 122 105  95 113  0.086109    991/1000    NonOverlappingTemplate
114  97 103 113  84  94 102  89 101 103  0.524101    989/1000    NonOverlappingTemplate
107  87  96 104 107 112 108  90  94  95  0.670396    995/1000    NonOverlappingTemplate
105  98  91 104 122 107  84  88 103  98  0.295391    987/1000    NonOverlappingTemplate
 96  85 119 100  97  90 107 105  99 102  0.544254    987/1000    NonOverlappingTemplate
104 111 101 112  96  83  87  99  84 123  0.080027    985/1000    NonOverlappingTemplate
 97  87  83 107 109 105 113 100 114  85  0.206629    992/1000    NonOverlappingTemplate
 84  87 116  95  99  98  96 121 104 100  0.222480    994/1000    NonOverlappingTemplate
108 100 106  93 102 110  88 109  90  94  0.725829    989/1000    OverlappingTemplate
130  92 103  99 108  90 107  81  90 100  0.057510    988/1000    Universal
 97  98  99  91 103  99 113 108 105  87  0.805569    995/1000    ApproximateEntropy
 72  55  76  50  66  54  58  62  58  67  0.322085    606/618     RandomExcursions
 67  71  62  76  70  53  65  39  53  62  0.040453    608/618     RandomExcursions
 64  58  59  68  66  57  45  68  68  65  0.544088    605/618     RandomExcursions
 60  64  64  55  52  58  88  62  58  57  0.097916    613/618     RandomExcursions
 54  62  65  75  61  68  58  59  60  56  0.765856    616/618     RandomExcursions
 77  55  59  64  62  61  67  57  64  52  0.601324    606/618     RandomExcursions
 72  43  55  72  60  71  59  68  56  62  0.170937    604/618     RandomExcursions
 72  67  55  49  59  46  65  71  66  68  0.192026    611/618     RandomExcursions
 62  61  64  60  64  62  71  61  60  53  0.962313    610/618     RandomExcursionsVariant
 65  62  51  80  56  67  63  59  61  54  0.369383    610/618     RandomExcursionsVariant
 69  59  71  57  57  65  61  62  48  69  0.597926    613/618     RandomExcursionsVariant
 68  67  54  62  55  68  62  50  71  61  0.611534    616/618     RandomExcursionsVariant
 71  53  66  65  49  66  72  58  64  54  0.417839    612/618     RandomExcursionsVariant
 60  71  59  70  65  59  64  51  67  52  0.628586    610/618     RandomExcursionsVariant
 59  69  53  60  59  71  67  54  60  66  0.769049    615/618     RandomExcursionsVariant
 61  61  54  55  67  61  60  70  70  59  0.857894    614/618     RandomExcursionsVariant
 60  61  72  70  48  68  60  60  63  56  0.594530    611/618     RandomExcursionsVariant
 59  65  56  78  70  57  52  55  68  58  0.355820    612/618     RandomExcursionsVariant
 59  60  70  58  75  48  58  56  61  73  0.314618    615/618     RandomExcursionsVariant
 56  58  63  59  63  62  75  57  64  61  0.883664    610/618     RandomExcursionsVariant
 64  57  60  65  64  54  68  55  72  59  0.827105    611/618     RandomExcursionsVariant
 68  55  66  71  52  62  50  52  71  71  0.250747    609/618     RandomExcursionsVariant
 60  64  62  57  75  47  74  60  53  66  0.267925    606/618     RandomExcursionsVariant
 60  68  64  75  52  54  65  69  41  70  0.077890    609/618     RandomExcursionsVariant
 59  66  60  58  63  73  62  57  56  64  0.917766    608/618     RandomExcursionsVariant
 64  60  53  63  59  71  66  63  69  50  0.689864    607/618     RandomExcursionsVariant
 98  95  95 100  91  96 109  97 103 116  0.829047    993/1000    Serial
106  89  93 105 104  88 106  96  93 120  0.444691    989/1000    Serial
109  94  85 115 114 102  90  96  89 106  0.319084    985/1000    LinearComplexity


- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
The minimum pass rate for each statistical test with the exception of the
random excursion (variant) test is approximately = 980 for a
sample size = 1000 binary sequences.

The minimum pass rate for the random excursion (variant) test
is approximately = 604 for a sample size = 618 binary sequences.

For further guidelines construct a probability table using the MAPLE program
provided in the addendum section of the documentation.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
